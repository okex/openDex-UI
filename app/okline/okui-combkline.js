!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CombKline=t():(e.okui=e.okui||{},e.okui.CombKline=t())}(window,function(){return function(e){function t(t){for(var n,i,r=t[0],s=t[1],a=0,l=[];a<r.length;a++)i=r[a],o[i]&&l.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);l.length;)l.shift()()}var n={},o={0:0};function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,i){n=o[e]=[t,i]});t.push(n[2]=r);var s,a=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+""+({}[e]||e)+".js"}(e),s=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+i+": "+r+")");s.type=i,s.request=r,n[1](s)}o[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:c})},12e4);c.onerror=c.onload=s,a.appendChild(c)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var c=s;return i(i.s=14)}([function(e,t,n){var o,i,r;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,a){"object"==s(t)&&void 0!==e?a(t):(i=[t],void 0===(r="function"==typeof(o=a)?o.apply(t,i):o)||(e.exports=r))}(0,function(e){"use strict";function t(e,n){var i=o({},e);for(var r in n)"object"!=s(e[r])||null===e[r]||Array.isArray(e[r])?void 0!==n[r]&&(i[r]=n[r]):i[r]=t(e[r],n[r]);return i}function n(){return"1.13 (internal id 1c7535a2 @ 2018-10-10 04:58:21.362341)"}var o=Object.assign||function(e){for(var t,n=arguments,o=1,i=arguments.length;o<i;o++)for(var r in t=n[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},r={width:800,height:500,symbol:"AA",interval:"D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}},a=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=t(r,e),e.preset){var n=i[e.preset];n?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(n.disabled_features):this._options.disabled_features=n.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(n.enabled_features):this._options.enabled_features=n.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.setLanguage=function(e){this.remove(),this._options.locale=e,this._create()},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t+"",n)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var e=this._getIFrameElement();e.contentWindow.destroyChart(),e.parentNode&&e.parentNode.removeChild(e)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n,o){this._innerAPI().saveChartToServer(e,t,n,o)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=t(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.changeTheme=function(e){this._innerWindow().changeTheme(e)},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype._getIFrameElement=function(){var e=document.getElementById(this._id);if(null===e)throw new Error("There is no such iframe");return e},e.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},e.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t;var o=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(o.style.width="100%",this._options.fullscreen||(o.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize();o.addEventListener("load",function t(){o.removeEventListener("load",t,!1),o.contentWindow.widgetReady(function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++){var i=n[t];try{i.call(e)}catch(e){console.error(e)}}o.contentWindow.initializationFinished()})},!1)},e.prototype._render=function(){var e=window;e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,customIndicatorsUrl:this._options.indicators_file_name},this._options.saved_data&&(e[this._id].chartContent={json:this._options.saved_data});var t=(this._options.library_path||"")+"static/"+this._options.locale+"-tv-chart.1c7535a2aac5ec511ed5.html#symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=n,e.version=n,e.onready=function(e){window.addEventListener("DOMContentLoaded",e,!1)},e.widget=a,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){e.exports='<div class=k-toolbar> <div class="hide icon"></div> <div class=periods></div> <div class=main-indicators></div> <div class=main-style></div> <div class="technical-indicator icon-button"></div> <div class="line-tool icon-button"></div> <div class="screenshot icon-button"></div> <div class="setting icon-button"></div> <div class="fullscreen icon-button"></div> <div class=toggle></div> <div class="popover hide"></div> </div> '},function(e,t){e.exports="<div class=kline-wrap> <div class=k-toolbar-wrap></div> <div class=kline-body-wrap id=okline-wrap></div> <div class=kline-body-wrap id=tv-kline-wrap></div> <div class=kline-loadding></div> </div> "},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._reverseColor=t.reverseColor,this._name=""}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"getName",value:function(){return this._name}},{key:"setCustomTheme",value:function(e){var t=this;Object.keys(e).forEach(function(n){t[n]=e[n]})}}]),e}();function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,a(t).call(this,e)))._name="dark",n._reverseColor?(n.Positive="#D75558",n.Negative="#41A064",n.PositiveDark="#204342",n.NegativeDark="#482E3D",n.TextPositive="#D75558",n.TextNegative="#41A064"):(n.Positive="#41A064",n.Negative="#D75558",n.PositiveDark="#482E3D",n.NegativeDark="#204342",n.TextPositive="#41A064",n.TextNegative="#D75558"),n.Unchanged="#FFFFFF",n.Background="#121D32",n.MainInfoBg="#25334B",n.MainInfoAlpha=.65,n.CursorColor="#606775",n.Indicator0="#FFFFFF",n.Indicator1="#F7B715",n.Indicator2="#D051DA",n.Indicator3="#38BCAF",n.Indicator4="#CB7554",n.Indicator5="#9BD75A",n.Grid0="#3F4859",n.Grid1="#4D5565",n.Grid2="#FFFFFF",n.Grid3="#25334B",n.Grid4="#3F4859",n.Text0="#BEC1C7",n.Text1="#FFFFFF",n.Text2="#4D5565",n.Text3="#FFFFFF",n.Text4="#FFFFFF",n.LineColorNormal="#3075EE",n.LineColorSelected="#005DFF",n.CircleColorFill="#121D32",n.CircleColorStroke="#005DFF",n.DefaultFont="12px Arial",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,i),t}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p={light:function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,h(t).call(this,e)))._name="light",n._reverseColor?(n.Positive="#EE6560",n.Negative="#4DB872",n.PositiveDark="#D2EDDC",n.NegativeDark="#FBD8D7",n.TextPositive="#EE6560",n.TextNegative="#4DB872"):(n.Positive="#4DB872",n.Negative="#EE6560",n.PositiveDark="#FBD8D7",n.NegativeDark="#D2EDDC",n.TextPositive="#4DB872",n.TextNegative="#EE6560"),n.Unchanged="#FFFFFF",n.Background="#FFFFFF",n.MainInfoBg="#25334B",n.MainInfoAlpha=.85,n.CursorColor="#898989",n.Indicator0="#E64C7D",n.Indicator1="#F7B715",n.Indicator2="#D051DA",n.Indicator3="#38BCAF",n.Indicator4="#CB7554",n.Indicator5="#9BD75A",n.Grid0="#000000",n.Grid1="#C6C6C6",n.Grid2="#25334B",n.Grid3="#25334B",n.Grid4="#C6C6C6",n.Text0="#FFFFFF",n.Text1="#FFFFFF",n.Text2="#888888",n.Text3="#FFFFFF",n.Text4="#656565",n.LineColorNormal="#3075EE",n.LineColorSelected="#005DFF",n.CircleColorFill="#FFFFFF",n.CircleColorStroke="#005DFF",n.DefaultFont="12px Arial",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i),t}(),dark:l};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new p[e](t),o=(t.customTheme||{})[e]||{};return n.setCustomTheme(o),n}var v=Object.prototype.hasOwnProperty,g="~";function b(){}function m(e,t,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var r=new function(e,t,n){this.fn=e,this.context=t,this.once=n||!1}(n,o||e,i),s=g?g+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],r]:e._events[s].push(r):(e._events[s]=r,e._eventsCount++),e}function _(e,t){0==--e._eventsCount?e._events=new b:delete e._events[t]}function w(){this._events=new b,this._eventsCount=0}Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(g=!1)),w.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)v.call(e,t)&&n.push(g?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},w.prototype.listeners=function(e){var t=g?g+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=n.length,i=new Array(o),r=0;r<o;r++)i[r]=n[r].fn;return i},w.prototype.listenerCount=function(e){var t=g?g+e:e,n=this._events[t];return n?n.fn?1:n.length:0},w.prototype.emit=function(e,t,n,o,i,r){var s=g?g+e:e;if(!this._events[s])return!1;var a,c,l=this._events[s],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,o),!0;case 5:return l.fn.call(l.context,t,n,o,i),!0;case 6:return l.fn.call(l.context,t,n,o,i,r),!0}for(c=1,a=new Array(u-1);c<u;c++)a[c-1]=arguments[c];l.fn.apply(l.context,a)}else{var f,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,o);break;default:if(!a)for(f=1,a=new Array(u-1);f<u;f++)a[f-1]=arguments[f];l[c].fn.apply(l[c].context,a)}}return!0},w.prototype.on=function(e,t,n){return m(this,e,t,n,!1)},w.prototype.once=function(e,t,n){return m(this,e,t,n,!0)},w.prototype.removeListener=function(e,t,n,o){var i=g?g+e:e;if(!this._events[i])return this;if(!t)return _(this,i),this;var r=this._events[i];if(r.fn)r.fn!==t||o&&!r.once||n&&r.context!==n||_(this,i);else{for(var s=[],a=0,c=r.length;a<c;a++)(r[a].fn!==t||o&&!r[a].once||n&&r[a].context!==n)&&s.push(r[a]);s.length?this._events[i]=1===s.length?s[0]:s:_(this,i)}return this},w.prototype.removeAllListeners=function(e){var t;return e?(t=g?g+e:e,this._events[t]&&_(this,t)):(this._events=new b,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=g,w.EventEmitter=w;var S=w;function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var O=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.context=n,null!==t[0]&&(t.forEach(function(e,t){o[t]=e}),this.length=t.length)}return function(e,t,n){t&&C(e.prototype,t),n&&C(e,n)}(e,[{key:"addClass",value:function(e){for(var t=0;t<this.length;t++)this[t].classList.add(e);return this}},{key:"removeClass",value:function(e){for(var t=0;t<this.length;t++)this[t].classList.remove(e);return this}},{key:"hasClass",value:function(e){return this[0]&&this[0].classList.contains(e)}},{key:"before",value:function(e){return this[0]&&this[0].insertAdjacentHTML("beforebegin",e),this}},{key:"after",value:function(e){return this[0]&&this[0].insertAdjacentHTML("afterend",e),this}},{key:"append",value:function(t){this[0]&&(t instanceof e?t[0]:t).appendChild(this[0]);return this}},{key:"replaceWith",value:function(t){var n=this[0];if(n){var o=t instanceof e?t[0]:t;n.parentNode.replaceChild(o,n),this[0]=o}return this}},{key:"clone",value:function(){return this[0]&&this[0].cloneNode(!0)}},{key:"each",value:function(e){[].forEach.call(this,e)}},{key:"empty",value:function(){return this[0]&&(this[0].innerHTML=""),this}},{key:"find",value:function(e){return this[0]&&this[0].querySelectorAll(e)||[]}},{key:"attr",value:function(e,t){return void 0!==t?(this[0]&&this[0].setAttribute(e,t),this):this[0]&&this[0].getAttribute(e)}},{key:"css",value:function(e,t){var n=this;if(!this[0])return this;if("object"===k(e))Object.keys(e).forEach(function(t){n.css(t,e[t])});else{if(void 0===t)return getComputedStyle(this[0])[e];for(var o=e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),i=0;i<this.length;i++)this[i]&&(this[i].style[o]=t)}return this}},{key:"on",value:function(e,t){if(!this[0])return this;this[0].handler=this[0].handler||{};var n=this[0].handler;return n[e]=n[e]||[],n[e].push(t),this[0].addEventListener(e,t,!1),this}},{key:"off",value:function(e,t){var n=this[0];if(!n)return this;var o=n.handler;if(!o)return this;var i=Object.keys(o);if(!e)return i.forEach(function(e){o[e].forEach(function(t){n.removeEventListener(e,t)})}),n.handler={},this;if(!o[e])return this;if(!t)return o[e].forEach(function(t){n.removeEventListener(e,t)}),n.handler[e]=[],this;n.removeEventListener(e,t);var r=o[e].indexOf(t);return r>=0&&n.handler[e].splice(r,1),this}},{key:"html",value:function(e){if(!e)return this[0].innerHTML;for(var t=0;t<this.length;t++)this[t]&&(this[t].innerHTML=e);return this}},{key:"text",value:function(e){if(!e)return this[0].innerText;for(var t=0;t<this.length;t++)this[t]&&(this[t].innerText=e);return this}},{key:"closest",value:function(t){var n=this[0];if(n)for(var o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;n;){if(o.call(n,t))return new e([n]);n=n.parentElement}return null}},{key:"parent",value:function(){return this[0]?new e([this[0].parentNode]):new e([])}}]),e}();function j(e,t){var n,o=e;if(o instanceof O)return o;"string"==typeof o&&(o=o.trim());var i=t instanceof O?t[0]:t||document;if(o.nodeType)n=o;else if(/</.test(o)){var r=document.createElement("div");r.innerHTML=o,n=r.firstChild}else n=i.querySelector(o);return new O([n],i)}function P(e,t){if(e instanceof O)return e;var n=t instanceof O?t[0]:t||document,o=n.querySelectorAll(e);return new O(o,n)}var T=function(e){return localStorage.getItem(e)},E=function(e,t){return localStorage.setItem(e,t)},A={calcDecimalDigits:function(e){var t="".concat(e),n=t.indexOf("."),o=t.indexOf("e-");if(o>-1){var i=+t.slice(o+2);return n>=0?o-(n+1)+i:i}return n<0?0:t.length-1-n},safeDigits:function(e){var t=this.calcDecimalDigits(e);return Number(e)>1&&t>4?4:t<10?t:10},replaceCurrency:function(e,t,n){return t?/\/index\//.test(n)?e.replace(/-\w+$/,"-".concat(t)):e.replace(/-\w+-/,"-".concat(t,"-")):e}};function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F(this,"subs",[]),this.id=e.uid++}return function(e,t,n){t&&I(e.prototype,t),n&&I(e,n)}(e,[{key:"addSub",value:function(e){this.subs.push(e)}},{key:"depend",value:function(){e.target.addDep(this)}},{key:"removeSub",value:function(e){var t=this.subs.indexOf(e);-1!=t&&this.subs.splice(t,1)}},{key:"notify",value:function(){this.subs.forEach(function(e){e.update()})}}]),e}();function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}F(x,"target",null),F(x,"uid",0);var L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"deps",{}),this.update=t}return function(e,t,n){t&&D(e.prototype,t),n&&D(e,n)}(e,[{key:"addDep",value:function(e){this.deps[e.id]||(e.addSub(this),this.deps[e.id]=e)}},{key:"removeDeps",value:function(){var e=this;Object.keys(this.deps).forEach(function(t){e.deps[t].removeSub(e)})}}]),e}();function R(e){var t=new L(e);return x.target=t,e(),x.target=null,function(){t.removeDeps()}}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e){this.data=e,this.walk(e)}function N(e){if(e&&"object"===M(e))return new z(e),e}z.prototype={walk:function(e){var t=this;Object.keys(e).forEach(function(n){t.convert(n,e[n])})},convert:function(e,t){this.defineReactive(this.data,e,t)},defineReactive:function(e,t,n){var o=new x;N(n),Object.defineProperty(e,t,{enumerable:!0,configurable:!1,get:function(){return x.target&&o.depend(),n},set:function(e){e!==n&&(n=e,N(e),o.notify())}})}};var H={zh_hk:"zh_TW",zh_cn:"zh",en_us:"en",fr_fr:"fr",th_th:"th_TH",rn_ru:"ru",es_es:"es",vi_vi:"vi"};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),H[e]?H[e]:H.en_us}function U(e){return"line"===e&&(e="1"),/m/.test(e)?e.replace(/m/,""):/h/.test(e)?"".concat(60*parseInt(e,10)):e.toUpperCase()}var W={S:1,m:60,H:3600,D:86400,W:604800,M:2592e3};function G(e){var t=e.replace(/\d*/,"")||"m";return parseInt(e,10)*W[t]}function K(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var V=function(e){return e[0]=new Date(e[0]).getTime(),e[1]=Number(e[1]),e[2]=Number(e[2]),e[3]=Number(e[3]),e[4]=Number(e[4]),e[5]=Number(e[5]),e},J=null;function q(e){return{open:(e=J(e))[1],high:e[2],low:e[3],close:e[4],volume:e[5],time:e[0]}}var X=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);J=o.dataAdapter||V,this.configurationData={},this.symbolInfo=Object.assign({symbol:"",full_name:"",ticker:"",type:"bitcoin",session:"24x7",exchange:"OKEX",timezone:"Asia/Hong_Kong",minmov:1,pricescale:1e4,has_intraday:!0,has_dwm:!0,has_fractional_volume:!0,intraday_multipliers:["1","1","3","5","15","30","60","120","240","360","720","D","W","M","12M"],has_seconds:!1,seconds_multipliers:["5"],has_daily:!0,has_weekly_and_monthly:!0,volume_precision:8,data_status:"streaming",expired:!1,limit:100},n.symbolInfo,o),this.symbolInfo.symbol=A.replaceCurrency(this.symbolInfo.symbol,o.currency,o.klineUrl),this.callbackMap={},this.socketOnceDisconnected=!1,this.currentGranularity=0,this.currentResolution=0,this.currentKlineUpdateFn=null,this.restDataHasErrorCode=!1,this.config=o,this.socket=new WebSocketCore({connectUrl:this.config.wsUrl});var i=this.socket;this.connected=new Promise(function(e){t.connectedHandle=i.onSocketConnected(function(){if(t.socketOnceDisconnected){if(t.currentKlineUpdateFn){var n={subscribeChannel:function(){t.subscribeChannel&&t.subscribeChannel()}};t.getBars(null,t.currentResolution,null,null,t.currentKlineUpdateFn,null,!0,n)}t.socketOnceDisconnected=!1}else e()}),t.errorHandle=i.onSocketError(function(){t.socketOnceDisconnected=!0,t.currentKlineUpdateFn&&t.getBars(null,t.currentResolution,null,null,t.currentKlineUpdateFn,null,!0)})}),this.pingHandle=i.onPushDiscontinue(function(){i.sendChannel("ping")}),this.PushHandle=i.setPushDataResolver(function(e){var n=e.table;if(n&&n.startsWith(t.periodId)){var o=e.data[0],i=t.callbackMap["".concat(n,":").concat(o.instrument_id)];i&&i(q(o.candle))}}),i.connect()}return function(e,t,n){t&&K(e.prototype,t),n&&K(e,n)}(e,[{key:"onReady",value:function(e){e(this.configurationData)}},{key:"resolveSymbol",value:function(e,t,n){Object.assign(this.symbolInfo,{symbol:e,full_name:this.symbolInfo.full_name,ticker:this.symbolInfo.ticker}),t(this.symbolInfo),n("tradingView resolveSymbol error")}},{key:"searchSymbols",value:function(e,t,n,o){o([])}},{key:"getBars",value:function(e,t,o,i,r,s,a,c){var l=this,u=this.config,f=u.symbol,h=G(t);if(this.currentResolution=t,this.currentGranularity=h,this.currentKlineUpdateFn=r,a){var d=function(){(0,window.fetch)("".concat(u.klineUrl.replace(/<symbol>/,f),"?granularity=").concat(h,"&size=1000"),{method:"get",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0!==e.code&&(e.data=[],l.restDataHasErrorCode=!0);for(var t,n=0,o=0;o<e.data.length;o++){t=e.data[o];for(var i=1;i<=4;i++){var s=Math.pow(10,A.safeDigits(t[i]));n<s&&(n=s)}}l.symbolInfo.pricescale=n,r(function(e){return e.map(q)}(e.data)),e&&e.data&&e.data.length<1e3&&r([],{noData:!0}),c&&c.subscribeChannel&&c.subscribeChannel()})};window.fetch?d():n.e(1).then(n.bind(null,15)).then(function(){d()})}}},{key:"subscribeBars",value:function(e,t,n){var o=this;if(this.restDataHasErrorCode)this.restDataHasErrorCode=!1;else{var i=this.config.product,r=this.config.channel,s=G(t),a=this.config.symbol;this.periodId="".concat(i,"/").concat(r).concat(s,"s"),this.callbackMap["".concat(this.periodId,":").concat(a)]=n;var c=JSON.stringify({op:"subscribe",args:"".concat(this.periodId,":").concat(a)});this.socket.isConnected()?this.socket.sendChannel(c):this.connected.then(function(){o.socket.sendChannel(c)}),this.subscribeChannel=function(){o.socket.sendChannel(c)}}}},{key:"unsubscribeBars",value:function(){if(this.currentGranularity){var e=this.config.product,t=this.config.channel,n=this.currentGranularity,o=this.config.symbol;if(delete this.callbackMap["".concat(e,"/").concat(t).concat(n,"s:").concat(o)],this.socket.isConnected()){var i={op:"unsubscribe",args:"".concat(e,"/").concat(t).concat(n,"s:").concat(o)};this.socket.sendChannel(JSON.stringify(i))}}}},{key:"destroy",value:function(){this.pingHandle&&this.pingHandle(),this.PushHandle&&this.PushHandle(),this.connectedHandle&&this.connectedHandle(),this.errorHandle&&this.errorHandle(),delete this.socket,delete this.pingHandle,delete this.PushHandle,delete this.configurationData,delete this.symbolInfo,delete this.periodId,delete this.callbackMap,delete this.config,delete this.currentResolution,delete this.currentGranularity,delete this.currentKlineUpdateFn,delete this.restDataHasErrorCode,delete this.connected,delete this.socketOnceDisconnected,J=null}}]),e}(),$={debug:!1,fullscreen:!1,symbol:"BTC/USDT",interval:"1",container_id:"chartContainer",timezone:"Asia/Hong_Kong",library_path:"file:"===location.protocol?"/okline/tradingview/":"/tradingview/",locale:"zh",client_id:"tradingview.com",user_id:"public_user_id",height:500,width:900,theme:"dark",hideHeaderWidget:!0,autosize:!0,supports_search:!1,supports_marks:!1,loading_screen:{backgroundColor:"#999",foregroundColor:"#f00"},overrides:{volumePaneSize:"medium","mainSeriesProperties.lineStyle.color":"#FF0000"},allow_symbol_change:!0,drawings_access:{type:"black",tools:[{name:"Regression Trend"}]},disabled_features:["compare_symbol","display_market_status","go_to_date","header_chart_type","header_compare","header_interval_dialog_button","header_resolutions","header_screenshot","header_symbol_search","header_undo_redo","legend_context_menu","show_hide_button_in_legend","show_interval_dialog_on_key_press","snapshot_trading_drawings","symbol_info","timeframes_toolbar","use_localstorage_for_settings","volume_force_overlay"],enabled_features:["header_indicators","hide_last_na_study_output","adaptive_logo","dont_show_boolean_study_arguments","same_data_requery","side_toolbar_in_fullscreen_mode","disable_resolution_rebuild"],studies_access:{type:"black",tools:[{name:"Ratio",grayed:!1},{name:"Spread",grayed:!1},{name:"Correlation Coefficient",grayed:!1}]}},Q=[{value:"1",name:"分时",chartType:3},{value:"1",name:"1分钟"},{value:"3",name:"3分钟"},{value:"5",name:"5分钟"},{value:"15",name:"15分钟"},{value:"30",name:"30分钟"},{value:"60",name:"1小时"},{value:"120",name:"2小时"},{value:"240",name:"4小时"},{value:"360",name:"6小时"},{value:"720",name:"12小时"},{value:"1D",name:"日线"},{value:"1W",name:"周线"}],Y=["EMA Cross","MACD","MA with EMA Cross","Ichimoku Cloud","Triple EMA","Price Channel","Moving Average Weighted","Momentum","Awesome Oscillator","Envelope","Double EMA","Donchian Channels","Balance of Power","Williams Fractal","Williams Alligator","Bollinger Bands","Smoothed Moving Average","VWAP","VWMA","Moving Average Exponential","Accumulative Swing Index","Least Squares Moving Average","Average True Range","Moving Average","Moving Average Channel","MA Cross","Ease of Movement","Linear Regression Curve","Hull Moving Average","SuperTrend","Mcginley Dynamic","Chande Kroll Stop","Arnaud Legoux Moving Average","Detrended Price Oscillator"],Z=n(0);function ee(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var te="okline-tv-settings",ne=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"onAutoSaveNeeded",function(){t.widget.save(function(e){e&&e.charts&&0!==e.charts.length&&localStorage.setItem(te,JSON.stringify(e.charts[0]))})}),this.resolutions=Q,this.widgetConfig=Object.assign($,n),this.widgetConfig.datafeed=new X(o,n),this.datafeed=this.widgetConfig.datafeed,this.widgetConfig.hideHeaderWidget&&this.widgetConfig.disabled_features.push("header_widget"),this.callbackList=[],this.readyState=!1}return function(e,t,n){t&&ee(e.prototype,t),n&&ee(e,n)}(e,[{key:"ready",value:function(e){e&&this.callbackList.push(e),this.readyState&&(this.callbackList.forEach(function(e){e()}),this.callbackList=[])}},{key:"init",value:function(){var e,t=this,n=this.widgetConfig,o=n.locale,i=n.theme,r=n.interval,s=n.container_id,a=n.symbol,c=n.currency,l=n.klineUrl,u=localStorage.getItem(te);if(u){e=JSON.parse(u);try{var f=e.panes[0].sources[0].state;f.symbol=A.replaceCurrency(a,c,l),f.interval=U(r)}catch(e){}this.widgetConfig.saved_data=e}var h=y(i).Background;j("#".concat(s)).css({backgroundColor:h}),this.widgetConfig.loading_screen={backgroundColor:h},this.widgetConfig.custom_css_url=this.getCustomCSSFile(i),this.widgetConfig.locale=B(o),this.widgetConfig.interval=U(r),this.widgetConfig.overrides=this.getOverrides(i),this.widget=new Z.widget(this.widgetConfig),this.widget.onChartReady(function(){t.readyState=!0,t.ready(),t.widgetConfig.onChartReady&&t.widgetConfig.onChartReady(),"line"===r&&t.widget.chart().setChartType(2),t.widgetConfig.disabled_features.indexOf("header_widget")<0&&t.renderResolution();var n=Math.log(t.datafeed.symbolInfo.pricescale)/Math.log(10),o={};Y.forEach(function(e){o["".concat(e,".precision")]=n}),t.widget.applyStudiesOverrides(o),e&&t.widget.activeChart()._chartWidget.loadContent(e),t.widget.activeChart()._chartWidget.model().mainSeries().updateSymbolInfo(t.datafeed.symbolInfo),t.widget.subscribe("onAutoSaveNeeded",t.onAutoSaveNeeded)})}},{key:"renderResolution",value:function(){var e=this;this.resolutions.map(function(t){var n=e.widget.createButton();return n.attr({value:t.value,type:t.chartType}).addClass("resolutionBtn"),n.bind("click",function(t){var n=t.target,o=n.parentElement.parentElement.parentElement,i=n.getAttribute("value");if(t.target.getAttribute("class").indexOf("resolutionActive")>-1)return null;var r=o.querySelector(".resolutionActive");r&&r.setAttribute("class",r.getAttribute("class").replace("resolutionActive","")),n.setAttribute("class","".concat(n.getAttribute("class")," resolutionActive"));var s=parseInt(n.getAttribute("type"),10)||1;e.changeResolution(i),3===s?e.widget.chart().setChartType(2):e.widget.chart().setChartType(1)}),n.text(t.name),null})}},{key:"setPeriod",value:function(e){var t=this.widget.chart();if("line"===e)t.setChartType(2),e="1";else{var n=t.chartType();2===n&&t.setChartType(this.lastChartType||1),this.lastChartType=n}t.setResolution(U(e),function(){})}},{key:"getCustomCSSFile",value:function(e){return"file:"===location.protocol&&navigator.userAgent.includes("Electron")?"/okline/css/".concat(e,".css"):"https://static.coinall.ltd/cdn/assets/dex/okline/".concat("0.3.2","/css/").concat(e,".css")}},{key:"switchIndics",value:function(){this.widget.chart()._chartWidget.showIndicators()}},{key:"screenshot",value:function(e){var t=this;this.widget.subscribe("onScreenshotReady",function n(){t.widget.unsubscribe("onScreenshotReady",n),e&&e()}),this.widget.takeScreenshot()}},{key:"switchSettings",value:function(){this.widget.chart()._chartWidget.showChartProperties()}},{key:"setTheme",value:function(e){this.widget.changeTheme(e);var t=this.getOverrides(e);this.applyOverrides(t),this.addCustomCSSFile(this.getCustomCSSFile(e))}},{key:"setLanguage",value:function(e){this.widget.setLanguage(B(e))}},{key:"setSymbol",value:function(e,t){this.widget.setSymbol(e,U(t),function(){})}},{key:"updateLastData",value:function(e){}},{key:"addCustomCSSFile",value:function(e){this.widget.addCustomCSSFile(e)}},{key:"applyOverrides",value:function(e){this.widget.applyOverrides(e)}},{key:"getOverrides",value:function(e){var t=y(e),n=t.Positive,o=t.Negative;return{"paneProperties.background":t.Background,"paneProperties.crossHairProperties.color":t.CursorColor,"mainSeriesProperties.candleStyle.upColor":n,"mainSeriesProperties.candleStyle.downColor":o,"mainSeriesProperties.candleStyle.borderUpColor":n,"mainSeriesProperties.candleStyle.borderDownColor":o,"scalesProperties.lineColor":t.Grid1,"scalesProperties.textColor":t.Text0}}},{key:"destroy",value:function(){this.readyState=!1,this.widget.unsubscribe("onAutoSaveNeeded",this.onAutoSaveNeeded),this.widget.remove(),this.datafeed.destroy()}}]),e}(),oe={zh_cn:{high:"高",open:"开",low:"低",close:"收",change:"涨幅",amplitude:"振幅",volume:"成交量",year:"年",month:"月",day:"日",time:"时间",period:{period:"周期",line:"分时",m:"分钟",h:"小时",d:"日","1d":"日线",w:"周","1w":"周线",M:"月"},str_indicator:"技术指标",str_tools:"画线工具",str_screenshot:"屏幕快照",str_local_save:"本地保存",str_setting:"设置",str_fullscreen:"全屏",str_fullscreen_close:"退出全屏",settings:{close:"关闭",default:"默认值",indicator_parameters:"指标参数设置"},ctools:{cursor:"光标",cross_cursor:"十字光标",seg_line:"线段",straight_line:"直线",ray_line:"射线",arrow_line:"箭头",horz_seg_line:"水平线段",horz_straight_line:"水平直线",horz_ray_line:"水平射线",vert_straight_line:"垂直直线",price_line:"价格线",tri_parallel_line:"价格通道线",bi_parallel_line:"平行直线",bi_parallel_ray:"平行射线",fib_retrace:"斐波纳契回调",fib_fans:"斐波纳契扇形",hide:"隐藏",show:"显示",delete:"删除",hide_all:"隐藏所有绘图工具",show_all:"显示所有绘图工具",delete_all:"删除所有绘图工具"}},en_us:{high:"high",open:"open",low:"low",close:"close",change:"CHANGE",amplitude:"AMPLITUDE",volume:"volume",year:"year",month:"month",day:"day",time:"time",period:{period:"TIME",line:"Line",m:"m",h:"h",d:"d",w:"w",M:"M"},str_indicator:"Indicator",str_tools:"Tools",str_screenshot:"Screenshot",str_local_save:"Save",str_setting:"Setting",str_fullscreen:"Fullscreen",str_fullscreen_close:"Exit Fullscreen",settings:{close:"CLOSE",default:"default",indicator_parameters:"Indicator Parameters"},ctools:{cursor:"Cursor",cross_cursor:"Cross Cursor",seg_line:"Trend Line",straight_line:"Extended",ray_line:"Ray",arrow_line:"Arrow",horz_seg_line:"Horizontal Line",horz_straight_line:"Horizontal Extended",horz_ray_line:"Horizontal Ray",vert_straight_line:"Vertical Extended",price_line:"Price Line",tri_parallel_line:"Parallel Channel",bi_parallel_line:"Parallel Lines",bi_parallel_ray:"Parallel Rays",fib_retrace:"Fibonacci Retracements",fib_fans:"Fibonacci Fans",hide:"Hide",show:"Show",delete:"Delete",hide_all:"Hide All Drawing Tools",show_all:"Display All Drawing Tools",delete_all:"Delete All Drawing Tools"}},zh_hk:{high:"高",open:"開",low:"低",close:"收",change:"漲幅",amplitude:"振幅",volume:"成交量",year:"年",month:"月",day:"日",time:"時間",period:{period:"週期",line:"分時",m:"分鐘",h:"小時",d:"日","1d":"日線",w:"周","1w":"周線",M:"月"},str_indicator:"技術指標",str_tools:"畫線工具",str_screenshot:"屏幕快照",str_local_save:"本地保存",str_setting:"設置",str_fullscreen:"全屏",str_fullscreen_close:"退出全屏",settings:{close:"關閉",default:"默認值",indicator_parameters:"指標參數設置"},ctools:{cursor:"光標",cross_cursor:"十字光標",seg_line:"線段",straight_line:"直線",ray_line:"射線",arrow_line:"箭頭",horz_seg_line:"水平線段",horz_straight_line:"水平直線",horz_ray_line:"水平射線",vert_straight_line:"垂直直線",price_line:"價格線",tri_parallel_line:"價格通道線",bi_parallel_line:"平行直線",bi_parallel_ray:"平行射線",fib_retrace:"斐波納契回調",fib_fans:"斐波納契扇形",hide:"隱藏",show:"顯示",delete:"删除",hide_all:"隱藏所有繪圖工具",show_all:"顯示所有繪圖工具",delete_all:"删除所有繪圖工具"}}};function ie(e){return e=e&&e.toLowerCase(),oe[e]||oe.en_us}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ae(this,ce(t).call(this))).el=j(e.el),n.tState=e.tState,n.tSettings=e.tSettings,n.render(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,S),function(e,t,n){t&&se(e.prototype,t),n&&se(e,n)}(t,[{key:"render",value:function(){}},{key:"hide",value:function(){this.el.addClass("hide")}},{key:"show",value:function(){this.el.removeClass("hide")}}]),t}(),fe={barHeight:"36",periods:["line","1m","3m","5m","15m","30m","1h","2h","4h","6h","12h","1d","1w"],periodCollects:["line","1m","3m","5m","15m","30m","1h","2h","4h","6h","12h","1d","1w"],period:"15m",mainIndics:["MA","EMA","BOLL","SAR","None"],mainIndic:["MA"],mainStyleCollects:["CandleStick"],mainStyle:"CandleStick",klineType:"Original",theme:"dark",showFullscreen:!0,showToggle:!1,language:"en_us",showIndics:!0,showLineTool:!1,showScreenshot:!0,logoIcon:{type:"txt",content:""}};n(3);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pe(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pe(this,ye(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,ue),function(e,t,n){t&&de(e.prototype,t),n&&de(e,n)}(t,[{key:"render",value:function(){var e=this.tState.logoIcon;e.content&&(this.el.removeClass("hide"),"img"===e.type?this.el.html('<img src="'.concat(e.content,'"/>')):this.el.html("<span>".concat(e.content,"</span>")))}}]),t}();n(4);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function we(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=we(this,Se(t).call(this,e))).list=e.list||[],n.showList=e.showList||[],n.selected=e.selected,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,ue),function(e,t,n){t&&_e(e.prototype,t),n&&_e(e,n)}(t,[{key:"bindEvent",value:function(){var e=this,t=this.el.parent(),n=j(".dropdown",this.el),o=j(".arrow",this.el),i=j(".arrow span",this.el);this.el.on("click",function(t){var r=j(t.target).closest("div");if(r&&r.hasClass("collect-icon"))return e.collectChange(r.parent().attr("key")),e.emit("collect-change",me(e.showList)),void t.stopPropagation();(r=j(t.target).closest("li"))&&r.attr("key")&&!r.hasClass("stop-propagation")&&(r.hasClass("checkbox")||(i.css({"transition-duration":"0.5s",transform:"rotate(0deg)"}),o.removeClass("hover"),n.addClass("hide")),e.selectChange(r.attr("key")),e.emit("select-change",r.attr("key")))}),o.on("mouseover",function(){n.removeClass("hide");var r=t[0].offsetWidth,s=t[0].offsetHeight-1,a=e.el[0].offsetLeft,c=e.el[0].offsetWidth,l=n[0].offsetWidth,u=c+a-o[0].offsetWidth-16;u<0&&(u=10),u+l>r&&(u=r-l-10),o.addClass("hover"),i.css({"transition-duration":"0.5s",transform:"rotate(180deg)"}),n.css({top:"".concat(s,"px"),left:"".concat(u,"px")})}),this.el.on("mouseleave",function(){i.css({"transition-duration":"0.5s",transform:"rotate(0deg)"}),o.removeClass("hover"),n.addClass("hide")})}},{key:"selectChange",value:function(e){var t=this.showList,n=this.selected,o=j('.collect li[key="'.concat(n,'"]'),this.el),i=P('li[key="'.concat(n,'"]'),this.el),r=j('.collect li[key="'.concat(e,'"]'),this.el),s=P('li[key="'.concat(e,'"]'),this.el);-1==t.indexOf(n)&&o.addClass("hide"),i.removeClass("selected"),s.addClass("selected"),r.removeClass("hide"),this.selected=e}},{key:"collectChange",value:function(e){var t=this.showList,n=this.selected,o=j('.collect li[key="'.concat(e,'"]'),this.el),i=j('.dropdown li[key="'.concat(e,'"] .collect-icon'),this.el),r=j("i",i),s=t.indexOf(e);if(s>-1)return n!=e&&o.addClass("hide"),i.removeClass("collected"),r.removeClass("icon-Star"),r.addClass("icon-Star-o"),void t.splice(s,1);o.removeClass("hide"),i.addClass("collected"),r.addClass("icon-Star"),r.removeClass("icon-Star-o"),t.push(e)}},{key:"render",value:function(){this.el.html('<div class="collect"></div><div class="dropdown hide"></div><div class="border-line"></div>')}}]),t}();n(5);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Te(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ee(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e,t,n){return(Ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ie(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=e.tState.periods,i=e.tSettings,r=i.periodCollects,s=i.period;return e.list=o,e.showList=Pe(r),e.selected=s,(n=Ee(this,Ie(t).call(this,e))).bindEvent(),R(function(){n.setLanguage()}),n.setLanguage(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,Ce),function(e,t,n){t&&Te(e.prototype,t),n&&Te(e,n)}(t,[{key:"bindEvent",value:function(){Ae(Ie(t.prototype),"bindEvent",this).call(this)}},{key:"setLanguage",value:function(){var e=this,t=this.tState.periods,n=ie(this.tState.language);t.forEach(function(t){var o=t.replace(/\D/g,""),i=t.replace(/\d/g,"");P('span[key="'.concat(t,'"]'),e.el).html("".concat("line"==i?"":o).concat(n.period[i]))})}},{key:"render",value:function(){Ae(Ie(t.prototype),"render",this).call(this);var e=this.tState.periods,n=this.tSettings,o=n.periodCollects,i=n.period,r=e,s=Pe(o),a=i,c=[[["line"],[]],[["m"],[]],[["h"],[]],[["d","w"],[]]],l=j(".collect",this.el),u=j(".dropdown",this.el),f=[],h=[];r.forEach(function(e){var t='key="'.concat(e,'"'),n=s.indexOf(e)>-1,o='class="'.concat(a==e?"selected":n||"hide",'"');f.push("<li ".concat(t," ").concat(o,"><span ").concat(t," /></li>"));var i=e.replace(/\d/g,"");c.forEach(function(t,n){je(t,1)[0].indexOf(i)>-1&&c[n][1].push(e)})}),c.forEach(function(e){var t=[];je(e,2)[1].forEach(function(e){var n='key="'.concat(e,'"'),o=s.indexOf(e)>-1,i='class="'.concat(a==e?"selected":"",'"'),r='class="'.concat(o?"collected":"",' collect-icon"'),c='class="'.concat(o?"iconfont icon-Star":"iconfont icon-Star-o",'"');t.push("<li ".concat(n," ").concat(i,"><span ").concat(n,"></span><div ").concat(r,"><i ").concat(c,"></i></div></li>"))}),h.push("<ul>".concat(t.join(""),"</ul>"))}),f.push('<li class="arrow"><span><i class="iconfont icon-kline-down"></i></span></li>'),l.html("<ul>".concat(f.join(""),"</ul>")),u.html(h.join(""))}}]),t}();function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Re(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Re(this,Me(t).call(this,e))).el.on("click",function(e){var t=j(e.target).closest("li");if(t){var o=t.hasClass("selected");o||"TradingView"==n.tSettings.klineType?t.removeClass("selected"):t.addClass("selected"),n.emit("switch",!o)}}),R(function(){n.setLanguage()}),n.setLanguage(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,ue),function(e,t,n){t&&Le(e.prototype,t),n&&Le(e,n)}(t,[{key:"setLanguage",value:function(){var e=ie(this.tState.language);j("li",this.el).attr("name",e.str_indicator)}},{key:"renderOriginal",value:function(){var e=j("li",this.el);this.tSettings.showIndics?e.addClass("selected"):e.removeClass("selected")}},{key:"renderTradingView",value:function(){j("li",this.el).removeClass("selected")}},{key:"render",value:function(){this.el.html('<li><i class="iconfont icon-zhibiaozhuanqu"></i></li>'),"Original"==this.tSettings.klineType?this.renderOriginal():this.renderTradingView()}}]),t}();n(6);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ue(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function We(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e,t,n){return(Ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ke(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=[],qe=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=e.tState.mainIndics,i=e.tSettings.mainIndic;return e.list=Be(o),e.showList=i.length>0?Be(i):["None"],Je=Be(i),(n=We(this,Ke(t).call(this,e))).bindEvent(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,Ce),function(e,t,n){t&&Ue(e.prototype,t),n&&Ue(e,n)}(t,[{key:"bindEvent",value:function(){var e=this;Ge(Ke(t.prototype),"bindEvent",this).call(this),this.on("select-change",function(t){if(P("li",e.el).removeClass("selected"),P(".collect li",e.el).addClass("hide"),P(".dropdown li i",e.el).removeClass("icon-checkbox-selected").addClass("icon-checkbox-selecte"),"None"==t)Je=[];else{var n=Je.indexOf(t);n>-1?Je.splice(n,1):Je.push(t),Je.length>2&&(Je=Je.slice(1,3)),Je.forEach(function(t){P('li[key="'.concat(t,'"]'),e.el).addClass("selected"),j('.collect li[key="'.concat(t,'"]'),e.el).removeClass("hide"),j('.dropdown li[key="'.concat(t,'"] i'),e.el).addClass("icon-checkbox-selected").removeClass("icon-checkbox-selecte")})}0==Je.length&&(P('li[key="None"]',e.el).addClass("selected"),j('.collect li[key="None"]',e.el).removeClass("hide"),j('.dropdown li[key="None"] i',e.el).addClass("icon-checkbox-selected").removeClass("icon-checkbox-selecte")),e.emit("main-indicators",Be(Je))})}},{key:"render",value:function(){Ge(Ke(t.prototype),"render",this).call(this);var e=this.tState.mainIndics,n=this.tSettings.mainIndic,o=Be(e),i=n.length>0?Be(n):["None"],r=j(".collect",this.el),s=j(".dropdown",this.el),a=[],c=[];o.forEach(function(e){var t=i.indexOf(e)>-1,n='key="'.concat(e,'"'),o='class="'.concat(t?"selected":"hide",' stop-propagation"'),r='class="'.concat(t?"selected":"",' checkbox"'),s='class="'.concat(t?"iconfont icon-checkbox-selected":"iconfont icon-checkbox-selecte",'"');a.push("<li ".concat(n," ").concat(o,"><span ").concat(n,">").concat(e,"</span></li>")),c.push("<li ".concat(n," ").concat(r,"><span ").concat(n,">").concat(e,'</span><div class="checkbox"><i ').concat(s,"></i></div></li>"))}),a.push('<li class="arrow"><span><i class="iconfont icon-kline-down"></i></span></li>'),r.html("<ul>".concat(a.join(""),"</ul>")),s.html("<ul>".concat(c.join(""),"</ul>"))}}]),t}();n(7);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ye(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e,t,n){return(Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=et(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=["CandleStick","CandleStickHLC","OHLC"],ot={CandleStick:"icon-candlestick",CandleStickHLC:"icon-candlestickhlc",OHLC:"icon-ohlc"},it=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=e.tSettings,i=o.mainStyleCollects,r=o.mainStyle;return e.list=nt,e.showList=$e(i),e.selected=r,(n=Ye(this,et(t).call(this,e))).bindEvent(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,Ce),function(e,t,n){t&&Qe(e.prototype,t),n&&Qe(e,n)}(t,[{key:"bindEvent",value:function(){var e=this;Ze(et(t.prototype),"bindEvent",this).call(this),this.on("collect-change",function(){e.emit("style-collect",$e(e.showList))})}},{key:"render",value:function(){Ze(et(t.prototype),"render",this).call(this);var e=this.tSettings,n=e.mainStyleCollects,o=e.mainStyle,i=$e(n),r=o,s=j(".collect",this.el),a=j(".dropdown",this.el),c=[],l=[];nt.forEach(function(e){var t='name="'.concat(e,'"'),n='key="'.concat(e,'"'),o=i.indexOf(e)>-1,s='class="'.concat(r==e?"selected":o||"hide",'"'),a='class="'.concat(r==e?"selected":"",'"'),u='class="'.concat(o?"collected":"",' collect-icon"'),f='class="'.concat(o?"iconfont icon-Star":"iconfont icon-Star-o",'"');c.push("<li ".concat(t," ").concat(n," ").concat(s,'><i class="iconfont ').concat(ot[e],'"></i></li>')),l.push("<li ".concat(n," ").concat(a,'><i class="iconfont ').concat(ot[e],'"></i><span ').concat(n,">").concat(e,"</span><div ").concat(u,"><i ").concat(f,"></i></div></li>"))}),c.push('<li class="arrow"><span><i class="iconfont icon-kline-down"></i></span></li>'),s.html("<ul>".concat(c.join(""),"</ul>")),a.html("<ul>".concat(l.join(""),"</ul>"))}}]),t}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function at(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ut=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=at(this,ct(t).call(this,e))).el.on("click",function(e){var t=j(e.target).closest("li");if(t){var o=t.hasClass("selected");o?t.removeClass("selected"):t.addClass("selected"),n.emit("switch",!o)}}),R(function(){n.setLanguage()}),n.setLanguage(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,ue),function(e,t,n){t&&st(e.prototype,t),n&&st(e,n)}(t,[{key:"setLanguage",value:function(){var e=ie(this.tState.language);j("li",this.el).attr("name",e.str_tools)}},{key:"render",value:function(){var e='class="'.concat(this.tSettings.showLineTool?"selected":"",'"');this.el.html("<li ".concat(e,'><i class="iconfont icon-measure-tool"></i></li>'))}}]),t}();function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=dt(this,pt(t).call(this,e))).el.on("click",function(){n.emit("click")}),R(function(){n.setLanguage()}),n.setLanguage(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,ue),function(e,t,n){t&&ht(e.prototype,t),n&&ht(e,n)}(t,[{key:"setLanguage",value:function(){var e=ie(this.tState.language);j("li",this.el).attr("name",e.str_screenshot)}},{key:"render",value:function(){this.tState.showScreenshot||this.el.addClass("hide"),this.el.html('<li><i class="iconfont icon-Icon-Photo"></i></li>')}}]),t}();function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function mt(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var St=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=mt(this,_t(t).call(this,e))).el.on("click",function(){n.emit("click",!0)}),R(function(){n.setLanguage()}),n.setLanguage(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,ue),function(e,t,n){t&&bt(e.prototype,t),n&&bt(e,n)}(t,[{key:"setLanguage",value:function(){var e=ie(this.tState.language);j("li",this.el).attr("name",e.str_setting)}},{key:"render",value:function(){this.el.html('<li><i class="iconfont icon-menu-administration"></i></li>')}}]),t}();n(8);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ot(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ot(this,jt(t).call(this,e))).isFull=!1,n.el.on("click",function(){n.isFull=!n.isFull;var e=j("i",n.el);e.removeClass("icon-exitfullscreen1"),e.removeClass("icon-fullscreen2"),n.isFull?e.addClass("icon-exitfullscreen1"):e.addClass("icon-fullscreen2"),n.emit("click",n.isFull),n.setLanguage(),j(".popover",n.el.parent()).addClass("hide")}),R(function(){n.setLanguage()}),n.setLanguage(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(t,ue),function(e,t,n){t&&Ct(e.prototype,t),n&&Ct(e,n)}(t,[{key:"setLanguage",value:function(){var e=ie(this.tState.language),t=this.isFull?e.str_fullscreen_close:e.str_fullscreen;j("li",this.el).attr("name",t)}},{key:"render",value:function(){var e=this.tState,t=e.showFullscreen,n=e.showToggle,o='class="'.concat(t?"":"hide",'"');n||this.el.addClass("full-right"),this.el.html("<li ".concat(o,'><i class="iconfont icon-fullscreen2"></i></li>'))}}]),t}();n(9);function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function It(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=It(this,Ft(t).call(this,e))).bindEvent(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,ue),function(e,t,n){t&&At(e.prototype,t),n&&At(e,n)}(t,[{key:"bindEvent",value:function(){var e=this;this.el.on("click",function(t){var n=j(t.target),o=n.attr("key");o&&o!=e.tSettings.klineType&&(P("span",e.el).removeClass("selected"),n.addClass("selected"),e.emit("toggle",o))})}},{key:"render",value:function(){this.tState.showToggle||this.el.addClass("hide");var e=this.tSettings.klineType,t='key="Original" class="'.concat("Original"==e?"selected":"",'"'),n="<span ".concat(t,">Original</span>"),o='key="TradingView" class="'.concat("TradingView"==e?"selected":"",'"'),i="<span ".concat(o,">TradingView</span>");this.el.html("".concat(n).concat(i))}}]),t}();n(10);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Mt(e,t){return!t||"object"!==Lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ht=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Mt(this,zt(t).call(this,e))).bindEvent(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(t,ue),function(e,t,n){t&&Rt(e.prototype,t),n&&Rt(e,n)}(t,[{key:"bindEvent",value:function(){var e=this.el.parent(),t=j(".popover",e);e.on("mousemove",function(n){var o=j(n.target).closest("li");if(t.addClass("hide"),o){var i=o.attr("name");if(i){t.removeClass("hide"),t.addClass("bottom"),t.removeClass("top"),j(".title",t).html(i);var r=e[0].getBoundingClientRect(),s=r.top,a=r.left,c=t[0].getBoundingClientRect().width,l=o[0].getBoundingClientRect(),u=l.left-a-c/2+l.width/2,f=l.bottom-s;t.css({left:"".concat(u,"px"),top:"".concat(f,"px")})}}}).on("mouseleave",function(){t.addClass("hide")})}},{key:"render",value:function(){this.el.html('<div class="title"></div><div class="triangle"></div><div class="split"></div>')}}]),t}();function Bt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ut(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Wt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tConfig=t.tConfig,this.kId=t.kId;var n=this.load()||this.getDefault();return N(n),this.data=n,n.save=this.save.bind(this),e.instanceMap[t.kId]=n,n}return function(e,t,n){t&&Ut(e.prototype,t),n&&Ut(e,n)}(e,[{key:"getDefault",value:function(){var e=this.tConfig;return{periodCollects:Bt(e.periodCollects),period:e.period,mainIndic:Bt(e.mainIndic),mainStyleCollects:Bt(e.mainStyleCollects),mainStyle:e.mainStyle,klineType:e.klineType,theme:e.theme,showIndics:e.showIndics,showLineTool:e.showLineTool}}},{key:"load",value:function(){try{var e=T("toolbar-settings-".concat(this.kId));if(!e)return;return JSON.parse(e)}catch(e){}}},{key:"save",value:function(){try{E("toolbar-settings-".concat(this.kId),JSON.stringify(this.data))}catch(e){}}}],[{key:"getInstance",value:function(t){return e.instanceMap[t]}}]),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Wt,"instanceMap",{});var Gt=n(1),Kt=n.n(Gt);n(11),n(12);function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $t(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=N(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){qt(e,t,n[t])})}return e}({},JSON.parse(JSON.stringify(fe)),e)),i=new Wt({tConfig:o,kId:e.element.replace(/[#.]/g,"")});i.theme=o.theme||i.theme;var r=j(o.anchor||e.element);return j(Kt.a).append(r),(n=$t(this,Qt(t).call(this,{tState:o,tSettings:i,el:j(".k-toolbar",r)}))).anchor=r,n.config=o,n.settings=i,n.init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,ue),function(e,t,n){t&&Xt(e.prototype,t),n&&Xt(e,n)}(t,[{key:"init",value:function(){var e=this,t=this.config,n=this.tSettings;this.setTheme(n.theme),this.el.css({height:"".concat(t.barHeight,"px")}),new Ht({el:j(".popover",this.el),tState:t,tSettings:n}),new ge({el:j(".icon",this.el),tState:t,tSettings:n}),this.periodSelect=new xe({el:j(".periods",this.el),tState:t,tSettings:n}),this.periodSelect.on("select-change",function(t){e.saveSettings("period",t),e.emit("period-select",t),e.resize()}),this.periodSelect.on("collect-change",function(t){e.saveSettings("periodCollects",t),e.resize()}),this.mainIndicators=new qe({el:j(".main-indicators",this.el),tState:t,tSettings:n}),this.mainIndicators.on("main-indicators",function(t){e.saveSettings("mainIndic",Jt(t)),e.emit("main-indicators",t),e.resize()}),this.mainStyle=new it({el:j(".main-style",this.el),tState:t,tSettings:n}),this.mainStyle.on("select-change",function(t){e.saveSettings("mainStyle",t),e.emit("style-select",t),e.resize()}),this.mainStyle.on("style-collect",function(t){e.saveSettings("mainStyleCollects",t),e.resize()}),this.technicalIndicators=new Ne({el:j(".technical-indicator",this.el),tState:t,tSettings:n}),this.technicalIndicators.on("switch",function(t){"Original"==e.settings.klineType&&e.saveSettings("showIndics",t),e.emit("technical-indicators",t)}),this.lineTool=new ut({el:j(".line-tool",this.el),tState:t,tSettings:n}),this.lineTool.on("switch",function(t){e.saveSettings("showLineTool",t),e.emit("line-tool",t)}),this.screenshot=new vt({el:j(".screenshot",this.el),tState:t,tSettings:n}),this.screenshot.on("click",function(){e.emit("screenshot")}),this.setting=new St({el:j(".setting",this.el),tState:t,tSettings:n}),this.setting.on("click",function(t){e.emit("setting",t)}),this.fullscreen=new Tt({el:j(".fullscreen",this.el),tState:t,tSettings:n}),this.fullscreen.on("click",function(t){e.emit("fullscreen",t)}),this.toggle=new Dt({el:j(".toggle",this.el),tState:t,tSettings:n}),this.toggle.on("toggle",function(t){"Original"==t?e.technicalIndicators.renderOriginal():e.technicalIndicators.renderTradingView(),e.saveSettings("klineType",t),e.emit("kline-toggle",t)}),this.resize()}},{key:"setLanguage",value:function(e){this.config.language=e}},{key:"getLanguage",value:function(){return this.config.language}},{key:"setTheme",value:function(e){this.saveSettings("theme",e),this.el.attr("class","k-toolbar ".concat(e))}},{key:"getTheme",value:function(){return this.settings.theme}},{key:"saveSettings",value:function(e,t){this.settings[e]=t,this.settings.save()}},{key:"getKlineType",value:function(){return this.config.showToggle?this.settings.klineType||"Original":this.config.klineType||"Original"}},{key:"getPeriod",value:function(){return this.settings.period}},{key:"resize",value:function(){var e=this,t=this.el,n=j(".setting",t),o=j(".toggle",t),i=j(".fullscreen",t),r=this.config.showToggle?o[0].offsetLeft:i[0].offsetLeft;P(".collect li",t).addClass("hide"),P(".collect li.selected, .collect li.arrow",t).removeClass("hide"),P(".dropdown .collected",t).each(function(o){var s=j(o).parent().attr("key"),a=j('.collect li[key="'.concat(s,'"]'),t);a.hasClass("hide")&&(a.removeClass("hide"),(e.config.showToggle?i[0].offsetLeft+i[0].offsetWidth:n[0].offsetLeft+n[0].offsetWidth)>r-4&&a.addClass("hide"))})}}]),t}(),en=Object.keys(fe),tn=n(2),nn=n.n(tn);n(13);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){sn(e,t,n[t])})}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function cn(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object.keys(e).forEach(function(t){void 0===e[t]&&delete e[t]}),n=cn(this,ln(t).call(this)),e.language=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),oe[e]?e:"en_us"}(e.language),e.channel=e.channel||"candle",n.config=e;var o=j(e.element);if(n.anchor=o,o.html(nn.a),j(".kline-wrap")&&j(".kline-wrap").length){n.containerAnchor=j(".kline-wrap",o),n.oklineAnchor=j("#okline-wrap",o),n.tvklineAnchor=j("#tv-kline-wrap",o),n.toolbarAnchor=j(".k-toolbar-wrap",o),n.loaddingAnchor=j(".kline-loadding",o);var i={};en.forEach(function(t){void 0!==e[t]&&void 0!==fe[t]&&(i[t]=e[t])});var r=new Zt(rn({anchor:n.toolbarAnchor[0]},i,{element:e.element,showToggle:void 0===e.showToggle||e.showToggle}));n.toolbar=r,n.toolbarRect=n.toolbarAnchor[0].getBoundingClientRect(),n.resize(e.width,e.height),n.oklineAnchor.css({display:"none"}),n.tvklineAnchor.css({display:"flex"}),n.createTV(),r.on("period-select",function(e){n.emit("period-select",e),n.setPeriod(e)}),r.on("technical-indicators",function(e){n.kline.switchIndics(e)}),r.on("main-indicators",function(e){n.kline.setMainIndicator(e)}),r.on("style-select",function(e){n.kline.setMainStyle(e)}),r.on("line-tool",function(e){n.kline.switchTools(e)}),r.on("screenshot",function(){n.kline.screenshot(function(){n.hideLoadding()})}),r.on("setting",function(e){n.kline.switchSettings(e)}),r.on("fullscreen",function(e){n.switchFullscreen(e)})}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(t,S),function(e,t,n){t&&an(e.prototype,t),n&&an(e,n)}(t,[{key:"createTV",value:function(){var e=this;this.showLoadding();var t=this.toolbar;t.mainIndicators.hide(),t.mainStyle.hide(),t.lineTool.hide(),t.resize(),this.tvKline=new ne(rn({container_id:"tv-kline-wrap"},this.config,{onChartReady:function(){e.onChartReady()},interval:this.getPeriod(),locale:this.config.language,theme:t.getTheme()}),{}),this.tvKline.init(),this.kline=this.tvKline}},{key:"onChartReady",value:function(){this.hideLoadding()}},{key:"ready",value:function(){var e=this;return new Promise(function(t,n){e.kline&&e.kline.ready(t,n)})}},{key:"showLoadding",value:function(){var e=y(this.toolbar.getTheme()).Background;this.loaddingAnchor.css({display:"block",backgroundColor:e})}},{key:"hideLoadding",value:function(){this.loaddingAnchor.css({display:"none"})}},{key:"setPeriod",value:function(e){this.kline.setPeriod(e)}},{key:"getPeriod",value:function(){return this.toolbar.getPeriod()}},{key:"setTheme",value:function(e){j(".kline-wrap",this.el).attr("class","kline-wrap ".concat(e)),this.toolbar.setTheme(e),this.kline.setTheme(e)}},{key:"setLanguage",value:function(e){this.config.language=e,this.toolbar.setLanguage(e),this.kline.setLanguage(e)}},{key:"setCurrency",value:function(e){this.config.currency=e}},{key:"setSymbol",value:function(e,t){this.updateConfig(t),this.config.symbol=e;try{this.kline.destroy()}catch(e){console.log(e)}this.createTV(e)}},{key:"setData",value:function(e){this.kline&&this.kline.setData&&this.kline.setData(e)}},{key:"updateData",value:function(e){this.kline&&this.kline.updateData&&this.kline.updateData(e)}},{key:"setDepth",value:function(e){this.setData({depths:e})}},{key:"updateLastData",value:function(e){this.kline.updateLastData(e)}},{key:"updateConfig",value:function(e){var t=this;e&&Object.keys(e).forEach(function(n){t.config[n]=e[n]})}},{key:"switchFullscreen",value:function(e){this.fullscreen=e,e?(this.containerAnchor.css({position:"fixed",zIndex:"10000"}),this.layout(window.innerWidth,window.innerHeight)):this.resize()}},{key:"resize",value:function(e,t){if(this.fullscreen)this.layout(window.innerWidth,window.innerHeight);else{var n=this.config,o=this.anchor[0].getBoundingClientRect();n.width=e||o.width||n.width,n.height=t||o.height||n.height,this.containerAnchor.css({position:"relative",zIndex:"auto"}),this.layout(n.width,n.height)}}},{key:"layout",value:function(e,t){this.containerAnchor.css({width:"".concat(e,"px"),height:"".concat(t,"px")});var n=t-this.toolbarRect.height;this.kline&&this.kline.resize&&this.kline.resize(e,n),this.toolbar.resize()}}]),t}();n.d(t,"CombKline",function(){return fn})}]).CombKline});